#N canvas 188 593 1220 371 10;
#X declare -stdpath grrrr;
#X obj 263 8 inlet~;
#X obj 324 95 bang~;
#X obj 324 215 mapping/iir 5;
#X obj 676 108 unpack;
#X obj 721 160 mapping/iir 5;
#X obj 676 130 moses 30;
#X floatatom 795 138 5 0 0 0 - - -, f 5;
#X floatatom 334 175 5 0 0 0 - - -, f 5;
#X obj 100 173 env-follower.model \$1/env-follower;
#X obj 367 257 j.return \$1/brightness @description "Brightness after
iir";
#X obj 767 209 j.return \$1/pitch @description "Tracked pitch after
iir";
#X obj 324 329 spot.model \$1/brightness;
#X obj 100 243 send.model \$1/send;
#X obj 324 257 * 100;
#X floatatom 500 332 5 0 0 0 - - -, f 5;
#X floatatom 277 284 5 0 0 0 - - -, f 5;
#X obj 837 132 j.parameter \$1/pitch/input/smoothing @type decimal
@default 5 @description "iir filter coefficient";
#X obj 376 169 j.parameter \$1/brightness/input/smoothing @type decimal
@default 5 @description "iir filter coefficient";
#X obj 478 116 loadbang;
#X msg 478 138 5;
#X obj 837 84 loadbang;
#X msg 837 106 5;
#X obj 782 57 constantq.model \$1/constantq;
#X obj 324 133 tID/specBrightness~ 512;
#X obj 606 86 fiddle~ 1024 1 1 0;
#N canvas 702 506 693 254 master 0;
#X obj 72 55 j.receive \$1/env-follower/loudness;
#X obj 301 56 j.remote /master/brightness;
#X obj 252 117 t b f;
#X obj 232 153 *;
#X obj 232 175 outlet;
#X floatatom 285 146 5 0 0 0 - - -, f 5;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 2 1 5 0;
#X connect 3 0 4 0;
#X restore 465 299 pd master;
#N canvas 702 506 693 254 master 0;
#X obj 72 55 j.receive \$1/env-follower/loudness;
#X obj 252 117 t b f;
#X obj 232 153 *;
#X obj 232 175 outlet;
#X obj 301 56 j.remote /master/pitch;
#X connect 0 0 2 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 4 0 1 0;
#X restore 832 275 pd master;
#N canvas 702 506 693 254 master 0;
#X obj 72 55 j.receive \$1/env-follower/loudness;
#X obj 252 117 t b f;
#X obj 232 153 *;
#X obj 232 175 outlet;
#X obj 301 56 j.remote /master/spec;
#X connect 0 0 2 0;
#X connect 1 0 2 0;
#X connect 1 1 2 1;
#X connect 2 0 3 0;
#X connect 4 0 1 0;
#X restore 946 35 pd master;
#X floatatom 854 303 5 0 0 0 - - -, f 5;
#X floatatom 965 59 5 0 0 0 - - -, f 5;
#X obj 169 218 j.remote /master/send;
#X obj 721 297 spot.model \$1/pitch;
#X connect 0 0 8 0;
#X connect 0 0 22 0;
#X connect 0 0 23 0;
#X connect 0 0 24 0;
#X connect 1 0 23 0;
#X connect 2 0 13 0;
#X connect 3 0 5 0;
#X connect 4 0 10 0;
#X connect 4 0 31 0;
#X connect 5 1 4 0;
#X connect 6 0 4 1;
#X connect 6 0 16 0;
#X connect 7 0 2 1;
#X connect 7 0 17 0;
#X connect 8 0 12 0;
#X connect 13 0 9 0;
#X connect 13 0 11 0;
#X connect 15 0 11 0;
#X connect 16 0 6 0;
#X connect 17 0 7 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 20 0 21 0;
#X connect 21 0 16 0;
#X connect 23 0 2 0;
#X connect 24 2 3 0;
#X connect 25 0 14 0;
#X connect 25 0 11 1;
#X connect 26 0 28 0;
#X connect 26 0 31 1;
#X connect 27 0 22 1;
#X connect 27 0 29 0;
#X connect 30 0 12 1;
